<mah:MetroWindow 
	x:Class="Player.MainWindow" x:Name="window" 
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" BorderBrush="#FF242527"
	WindowTitleBrush="#FF242527"
	xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
	xmlns:system="clr-namespace:System;assembly=mscorlib"
	xmlns:controls="clr-namespace:Library.Controls;assembly=Library"
	xmlns:nav="clr-namespace:Library.Controls.Navigation;assembly=Library"
	xmlns:controls1="clr-namespace:Player.Controls;assembly=Player"
	xmlns:views="clr-namespace:Player.Views" Background="{DynamicResource MajorBackground}"
	Title="Elephant Player" ShowIconOnTitleBar="False" AllowDrop="True"
	Loaded="Window_Loaded" Closing="Window_Closing" Drop="Window_Drop" KeyUp="Window_KeyUp">
	<mah:MetroWindow.LeftWindowCommands>
		<mah:WindowCommands>
			<StackPanel Orientation="Horizontal">
				<Menu x:Name="Menu">
					<MenuItem>
						<MenuItem.Header>
							<Image Source="pack://application:,,,/Resources/Player.ico"/>
						</MenuItem.Header>
						<MenuItem Header="Library">
							<MenuItem Header="Revalidate" Click="Menu_RevalidateClick"/>
						</MenuItem>
						<MenuItem Header="About">
							<Grid>
								<TextBlock Text="Elephant Player v1.2A" FontSize="19" FontWeight="Light"/>
								<TextBlock Text="soheilkd ©" Margin="92,35,0,0" FontSize="16" FontWeight="SemiBold"/>
							</Grid>
						</MenuItem>
					</MenuItem>
				</Menu>
			</StackPanel>
		</mah:WindowCommands>
	</mah:MetroWindow.LeftWindowCommands>
	<Grid x:Name="ContentGrid">
		<TabControl x:Name="TabControl" Background="Transparent" Margin="0,0,0,80" TabStripPlacement="Left" SelectedIndex="1">
			<TabItem Header="Now Playing">
				<views:NowPlayingView/>
			</TabItem>
			<TabItem Header="Library">
				<controls1:MediaDataGrid x:Name="DataGrid" MediaRequested="DataGrid_MediaRequested"/>
			</TabItem>
			<TabItem Header="Artists">
				<views:ArtistsView x:Name="ArtistsView"/>
			</TabItem>
			<TabItem Header="Albums">
				<views:AlbumsView x:Name="AlbumsView"/>
			</TabItem>
			<TabItem Header="Playlists">
				<views:PlaylistsView/>
			</TabItem>
			<TabItem Header="Settings">
				<views:SettingsView/>
			</TabItem>
			<TabControl.Resources>
				<Style TargetType="TabItem">
					<Setter Property="Foreground" Value="#FFF"/>
					<Setter Property="HeaderTemplate">
						<Setter.Value>
							<DataTemplate>
								<TextBlock x:Name="textBlock" Padding="7" Text="{Binding}" FontSize="18" FontWeight="SemiBold"/>
							</DataTemplate>
						</Setter.Value>
					</Setter>
					<Setter Property="Template">
						<Setter.Value>
							<ControlTemplate TargetType="{x:Type TabItem}">
								<Grid>
									<Border  Name="Border" BorderBrush="{DynamicResource AccentColorBrush}">
										<ContentPresenter ContentSource="Header" RecognizesAccessKey="True"/>
									</Border>
								</Grid>
								<ControlTemplate.Triggers>
									<Trigger Property="IsSelected" Value="True">
										<Setter Property="Panel.ZIndex" Value="100" />
										<Setter TargetName="Border" Property="BorderThickness" Value="3,0,0,0" />
									</Trigger>
								</ControlTemplate.Triggers>
							</ControlTemplate>
						</Setter.Value>
					</Setter>
				</Style>
			</TabControl.Resources>
		</TabControl>
		<controls1:MediaPlayer x:Name="Player"/>
		<controls:Button x:Name="MinimalViewButton" Icon="CollapsePane" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,12,35" MouseUp="MinimalButton_Clicked"/>
		<Label x:Name="SearchLabel" Content="{Binding Text, ElementName=SearchBox}" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,190,20"/>
		<controls:Button x:Name="SearchButton" HorizontalAlignment="Right" VerticalAlignment="Bottom" Icon="Search" MouseUp="SearchIcon_Click" Margin="0,0,195,35" Width="20" Height="20"/>
		<Popup x:Name="SearchPopup" PlacementTarget="{Binding ElementName=SearchButton}" StaysOpen="False" Placement="Bottom" PopupAnimation="Fade" AllowsTransparency="True">
			<TextBox HorizontalAlignment="Right" VerticalAlignment="Top" Width="140" Height="20" x:Name="SearchBox" TextChanged="SearchBox_TextChanged" />
		</Popup>
	</Grid>
	<Window.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<!-- MahApps.Metro resource dictionaries -->
				<ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
				<ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Colors.xaml" />
				<!-- Accent and AppTheme setting -->
				<ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/BaseDark.xaml" />
			</ResourceDictionary.MergedDictionaries>

			<SolidColorBrush x:Key="MajorBackground" Color="#FF242527"/>
			<system:Double x:Key="MinimalWidthTemp" />
			<system:Double x:Key="MinimalHeightTemp" />
			<system:String x:Key="LastPath">D:\\</system:String>
			<Style TargetType="DataGridRow">
				<Style.Triggers>
					<DataTrigger Binding="{Binding IsPlaying}" Value="True">
						<Setter Property="Background" Value="#6777" />
						<Setter Property="Foreground" Value="Cyan"/>
					</DataTrigger>
				</Style.Triggers>
			</Style>
			<Style TargetType="Menu">
				<Setter Property="Background" Value="{DynamicResource MajorBackground}"/>
				<Setter Property="Foreground" Value="#EEE"/>
				<Setter Property="FontSize" Value="14"/>
			</Style>
		</ResourceDictionary>
	</Window.Resources>
</mah:MetroWindow>
